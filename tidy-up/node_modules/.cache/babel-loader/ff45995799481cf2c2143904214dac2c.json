{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/medicare/medicare/src/Components/AppointmentCentreForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from \"react\";\nimport \"../css/Booking.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../Firebase/AuthContext\";\nimport { useState, useEffect } from \"react\";\nimport { db, auth } from \"../Firebase/Firebase\";\nimport { AddNewTestForUser, AddNewTestForAdmin } from \"../Firebase/Firebase\";\nimport { Modal } from \"react-bootstrap\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AppointCentreForm(props) {\n  _s();\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const {\n    cartItems,\n    onRemove,\n    removeAll\n  } = props;\n  const {\n    currentUser,\n    setPaymentConfirmed\n  } = useAuth();\n  let total = 0;\n\n  function Add(price) {\n    total = parseInt(total) + parseInt(price);\n  }\n\n  function Subtract(price) {\n    total = parseInt(total) - parseInt(price);\n  }\n\n  const [loading, setLoading] = useState(false);\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const ageRef = useRef();\n  const drnameRef = useRef();\n  const phoneRef = useRef();\n  const genderRef = useRef();\n  const dateRef = useRef();\n  const slotRef = useRef();\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    console.log(phoneRef.current.value);\n\n    try {\n      const userInfo = {\n        name: nameRef.current.value,\n        email: emailRef.current.value,\n        age: ageRef.current.value,\n        doctorname: drnameRef.current.value,\n        phone: phoneRef.current.value,\n        gender: genderRef.current.value,\n        date: dateRef.current.value,\n        slot: slotRef.current.value,\n        location: \"centre\",\n        userId: auth.currentUser.uid\n      };\n      cartItems.forEach(item => {\n        AddNewTestForUser(auth.currentUser.uid, item, userInfo);\n        AddNewTestForAdmin(auth.currentUser.uid, item, userInfo);\n      });\n      removeAll();\n      setPaymentConfirmed(true);\n      console.log(cartItems);\n      console.log(\"after removeall\");\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n      console.log(\"this does not works after submit\");\n    }\n  }\n\n  const [ProfileInfo, setProfileInfo] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await db.collection(\"users\").doc(auth.currentUser.uid).get();\n        console.log(\"response\", response);\n        let data = {\n          title: \"not found\"\n        };\n\n        if (response.exists) {\n          console.log(\"found it\");\n          data = response.data();\n          console.log(data);\n        }\n\n        setProfileInfo(data);\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n  var today = new Date();\n  var dd = String(today.getDate() + 1).padStart(2, \"0\");\n  var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n\n  var yyyy = today.getFullYear();\n  today = yyyy + \"-\" + mm + \"-\" + dd; // document.write(today);\n\n  var max1 = new Date();\n  var dd1 = String(max1.getDate()).padStart(2, \"0\");\n  var mm1 = String(max1.getMonth() + 2).padStart(2, \"0\"); //January is 0!\n\n  var yyyy1 = max1.getFullYear();\n  max1 = yyyy1 + \"-\" + mm1 + \"-\" + dd1; // document.write(max);\n\n  function showModal1(e) {\n    e.preventDefault();\n    handleShow();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"contact-clean\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"bg-light border rounded\",\n          onSubmit: showModal1,\n          style: {\n            background: \"rgb(248,248,249)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center\",\n            children: \"Centre Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Name\",\n              defaultValue: ProfileInfo.displayName,\n              ref: nameRef,\n              disabled: \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"input-group-text\",\n              for: \"inputGroupSelect01\",\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), ProfileInfo.gender && /*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-select\",\n              id: \"inputGroupSelect01\",\n              ref: genderRef,\n              defaultValue: ProfileInfo.gender,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Choose...\",\n                children: \"Choose...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Male\",\n                children: \"Male\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Female\",\n                children: \"Female\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Others\",\n                children: \"Others\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"number\",\n              name: \"Age\",\n              placeholder: \"Age\",\n              min: \"10\",\n              max: \"100\",\n              maxLength: 10 // this is the important line\n              ,\n              ref: ageRef,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"email\",\n              name: \"email\",\n              placeholder: \"Email\",\n              defaultValue: currentUser.email,\n              disabled: \"true\",\n              ref: emailRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"number\",\n              name: \"phone\",\n              placeholder: \"Phone\",\n              inputMode: \"tel\",\n              defaultValue: ProfileInfo.phone,\n              required: true,\n              ref: phoneRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"dr-name\",\n              placeholder: \"Ref Doctor's Name\",\n              ref: drnameRef,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-inline-flex mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"date\",\n              ref: dateRef,\n              min: today,\n              max: max1,\n              style: {\n                paddingRight: \"12px\",\n                paddingLeft: \"12px\",\n                width: \"200px\"\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-select\",\n              id: \"inputGroupSelect04\",\n              \"aria-label\": \"Example select with button addon\",\n              ref: slotRef,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                selected: true,\n                children: \"Choose Your Slot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"9-12\",\n                children: \"9am-12pm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12-3\",\n                children: \"12pm-3pm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3-6\",\n                children: \"3pm-6pm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), cartItems.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              type: \"submit\",\n              children: \"proceed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), cartItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-danger mt-3\",\n              to: \"/AppointmentHome\",\n              children: \"Select atleast one test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [cartItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Cart is empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 42\n            }, this), cartItems.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"table\", {\n                    class: \"table table-bordered\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Test Name\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"price\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 266,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          scope: \"col\",\n                          children: \"Actions\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 267,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: [\"\\u20B9\", item.price]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 274,\n                          columnNumber: 31\n                        }, this), console.log(total), Add(item.price), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-center\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-danger\",\n                            onClick: () => {\n                              onRemove(item);\n                              Subtract(item.price);\n                              console.log(total);\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              class: \"far fa-trash-alt\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 288,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 278,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 277,\n                          columnNumber: 31\n                        }, this)]\n                      }, item.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 25\n                    }, this), \"Your total is \\u20B9\", total]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Payment Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card credit-card-box\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      for: \"cardHolder\",\n                      children: [\"Card Holder Name\", \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-control\",\n                        type: \"text\",\n                        id: \"cardHolder\",\n                        required: true,\n                        placeholder: \"Card Holder Name\",\n                        inputMode: \"text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      for: \"cardNumber\",\n                      children: \"Card number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"input-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"form-control\",\n                        type: \"number\",\n                        id: \"cardNumber\",\n                        required: true,\n                        placeholder: \"Valid Card Number\",\n                        inputMode: \"numeric\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"input-group-text\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-credit-card\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 347,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-7\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      for: \"cardExpiry\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Expiration \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control\",\n                      type: \"tel\",\n                      id: \"cardExpiry\",\n                      pattern: \"(0[1-9]{1}|1[0-2]{1})-([0-9]{4}|[0-9]{2})\",\n                      required: true,\n                      placeholder: \"MM - YY\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 pull-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-label\",\n                      for: \"cardCVC\",\n                      children: \"CV Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control\",\n                      type: \"number\",\n                      id: \"cardCVC\",\n                      required: true,\n                      placeholder: \"CVC\",\n                      min: \"111\",\n                      max: \"999\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success btn-lg d-block w-100\",\n            type: \"submit\",\n            children: \"Pay Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AppointCentreForm, \"Z2ZVu7zlOB0I6A0Ez34rPTBKWJY=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = AppointCentreForm;\nexport default AppointCentreForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppointCentreForm\");","map":{"version":3,"sources":["/Users/mac/Desktop/medicare/medicare/src/Components/AppointmentCentreForm.js"],"names":["React","useRef","Link","useHistory","useAuth","useState","useEffect","db","auth","AddNewTestForUser","AddNewTestForAdmin","Modal","ToastContainer","AppointCentreForm","props","show","setShow","handleClose","handleShow","cartItems","onRemove","removeAll","currentUser","setPaymentConfirmed","total","Add","price","parseInt","Subtract","loading","setLoading","nameRef","emailRef","ageRef","drnameRef","phoneRef","genderRef","dateRef","slotRef","history","handleSubmit","e","preventDefault","console","log","current","value","userInfo","name","email","age","doctorname","phone","gender","date","slot","location","userId","uid","forEach","item","push","err","ProfileInfo","setProfileInfo","fetchData","response","collection","doc","get","data","title","exists","error","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","max1","dd1","mm1","yyyy1","showModal1","background","displayName","paddingRight","paddingLeft","width","length","map","id"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\nimport \"../css/Booking.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../Firebase/AuthContext\";\nimport { useState, useEffect } from \"react\";\nimport {\n  db,\n  auth,\n} from \"../Firebase/Firebase\";\nimport { AddNewTestForUser, AddNewTestForAdmin } from \"../Firebase/Firebase\";\nimport { Modal } from \"react-bootstrap\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction AppointCentreForm(props) {\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const {cartItems, onRemove, removeAll } = props;\n  const {\n    currentUser,\n    setPaymentConfirmed,\n  } = useAuth();\n\n  let total = 0;\n  function Add(price) {\n    total = parseInt(total) + parseInt(price);\n  }\n  function Subtract(price) {\n    total = parseInt(total) - parseInt(price);\n  }\n  const [loading, setLoading] = useState(false);\n\n  const nameRef = useRef();\n  const emailRef = useRef();\n  const ageRef = useRef();\n  const drnameRef = useRef();\n  const phoneRef = useRef();\n  const genderRef = useRef();\n\n  const dateRef = useRef();\n  const slotRef = useRef();\n\n  const history = useHistory();\n  async function handleSubmit(e) {\n    e.preventDefault();\n    console.log(phoneRef.current.value);\n\n    try {\n      const userInfo = {\n        name: nameRef.current.value,\n        email: emailRef.current.value,\n        age: ageRef.current.value,\n        doctorname: drnameRef.current.value,\n        phone: phoneRef.current.value,\n        gender: genderRef.current.value,\n        date: dateRef.current.value,\n        slot: slotRef.current.value,\n        location: \"centre\",\n        userId: auth.currentUser.uid,\n      };\n      cartItems.forEach((item) => {\n        AddNewTestForUser(auth.currentUser.uid, item, userInfo);\n        AddNewTestForAdmin(auth.currentUser.uid, item, userInfo);\n      });\n      removeAll();\n      setPaymentConfirmed(true);\n      console.log(cartItems);\n      console.log(\"after removeall\");\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n      console.log(\"this does not works after submit\");\n    }\n  }\n\n  const [ProfileInfo, setProfileInfo] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await db\n          .collection(\"users\")\n          .doc(auth.currentUser.uid)\n          .get();\n        console.log(\"response\", response);\n        let data = { title: \"not found\" };\n        if (response.exists) {\n          console.log(\"found it\");\n          data = response.data();\n          console.log(data);\n        }\n\n        setProfileInfo(data);\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  var today = new Date();\n  var dd = String(today.getDate() + 1).padStart(2, \"0\");\n  var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\n  var yyyy = today.getFullYear();\n  today = yyyy + \"-\" + mm + \"-\" + dd;\n  // document.write(today);\n\n  var max1 = new Date();\n  var dd1 = String(max1.getDate()).padStart(2, \"0\");\n  var mm1 = String(max1.getMonth() + 2).padStart(2, \"0\"); //January is 0!\n  var yyyy1 = max1.getFullYear();\n  max1 = yyyy1 + \"-\" + mm1 + \"-\" + dd1;\n  // document.write(max);\n\n  function showModal1(e) {\n    e.preventDefault();\n    handleShow();\n  }\n\n  return (\n    <div>\n      <div>\n        <section className=\"contact-clean\">\n          <form\n            className=\"bg-light border rounded\"\n            onSubmit={showModal1}\n            style={{ background: \"rgb(248,248,249)\" }}\n          >\n            <h2 className=\"text-center\">Centre Visit</h2>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Name\"\n                defaultValue={ProfileInfo.displayName}\n                ref={nameRef}\n                disabled=\"true\"\n              />\n            </div>\n            <div class=\"input-group mb-3\">\n              <label class=\"input-group-text\" for=\"inputGroupSelect01\">\n                Gender\n              </label>\n              {ProfileInfo.gender && (\n                <select\n                  class=\"form-select\"\n                  id=\"inputGroupSelect01\"\n                  ref={genderRef}\n                  defaultValue={ProfileInfo.gender}\n                  required\n                >\n                  <option value=\"Choose...\">Choose...</option>\n                  <option value=\"Male\">Male</option>\n                  <option value=\"Female\">Female</option>\n                  <option value=\"Others\">Others</option>\n                </select>\n              )}\n            </div>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"number\"\n                name=\"Age\"\n                placeholder=\"Age\"\n                min=\"10\"\n                max=\"100\"\n                maxLength={10} // this is the important line\n                ref={ageRef}\n                required\n              />\n            </div>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                defaultValue={currentUser.email}\n                disabled=\"true\"\n                ref={emailRef}\n              />\n            </div>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"number\"\n                name=\"phone\"\n                placeholder=\"Phone\"\n                inputMode=\"tel\"\n                defaultValue={ProfileInfo.phone}\n                required\n                ref={phoneRef}\n              />\n            </div>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                name=\"dr-name\"\n                placeholder=\"Ref Doctor's Name\"\n                ref={drnameRef}\n                required\n              />\n            </div>\n\n            <div className=\"d-inline-flex mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"date\"\n                ref={dateRef}\n                min={today}\n                max={max1}\n                style={{\n                  paddingRight: \"12px\",\n                  paddingLeft: \"12px\",\n                  width: \"200px\",\n                }}\n                required\n              />\n            </div>\n            <div class=\"input-group\">\n              <select\n                class=\"form-select\"\n                id=\"inputGroupSelect04\"\n                aria-label=\"Example select with button addon\"\n                ref={slotRef}\n                required\n              >\n                <option selected>Choose Your Slot</option>\n                <option value=\"9-12\">9am-12pm</option>\n                <option value=\"12-3\">12pm-3pm</option>\n                <option value=\"3-6\">3pm-6pm</option>\n              </select>\n            </div>\n            {cartItems.length !== 0 && (\n              <div className=\"form-group mb-3\">\n                <button className=\"btn btn-primary\" type=\"submit\">\n                  proceed\n                </button>\n              </div>\n            )}\n            {cartItems.length === 0 && (\n              <div className=\"form-group mb-3\">\n                <Link className=\"btn btn-danger mt-3\" to=\"/AppointmentHome\">\n                  Select atleast one test\n                </Link>\n              </div>\n            )}\n\n            <div>\n              {cartItems.length === 0 && <div>Cart is empty</div>}\n\n              {cartItems.length !== 0 && (\n                <div class=\"container\">\n                  <div class=\"row\">\n                    <div class=\"col-12\">\n                      <table class=\"table table-bordered\">\n                        <thead>\n                          <tr>\n                            <th scope=\"col\">Test Name</th>\n                            <th scope=\"col\">price</th>\n                            <th scope=\"col\">Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {cartItems.map((item) => (\n                            <tr key={item.id}>\n                              <td>{item.name}</td>\n                              <td>&#x20b9;{item.price}</td>\n                              {console.log(total)}\n                              {Add(item.price)}\n                              <td className=\"text-center\">\n                                <button\n                                  type=\"button\"\n                                  class=\"btn btn-danger\"\n                                  onClick={() => {\n                                    onRemove(item);\n\n                                    Subtract(item.price);\n                                    console.log(total);\n                                  }}\n                                >\n                                  <i class=\"far fa-trash-alt\"></i>\n                                </button>\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                        Your total is &#x20b9;{total}\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </form>\n        </section>\n      </div>\n\n      <Modal\n        show={show}\n        onHide={handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <form onSubmit={handleSubmit}>\n          <Modal.Header closeButton>\n            <Modal.Title>Payment Details</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div className=\"card credit-card-box\">\n              <div className=\"card-body\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"form-group mb-3\">\n                      <label className=\"form-label\" for=\"cardHolder\">\n                        Card Holder Name{\" \"}\n                      </label>\n                      <div className=\"input-group\">\n                        <input\n                          className=\"form-control\"\n                          type=\"text\"\n                          id=\"cardHolder\"\n                          required\n                          placeholder=\"Card Holder Name\"\n                          inputMode=\"text\"\n                        />\n                      </div>\n                      <label className=\"form-label\" for=\"cardNumber\">\n                        Card number\n                      </label>\n                      <div className=\"input-group\">\n                        <input\n                          className=\"form-control\"\n                          type=\"number\"\n                          id=\"cardNumber\"\n                          required\n                          placeholder=\"Valid Card Number\"\n                          inputMode=\"numeric\"\n                        />\n                        <span className=\"input-group-text\">\n                          <i className=\"fa fa-credit-card\"></i>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-7\">\n                    <div className=\"form-group mb-3\">\n                      <label className=\"form-label\" for=\"cardExpiry\">\n                        <span>Expiration </span>\n                      </label>\n                      <input\n                        className=\"form-control\"\n                        type=\"tel\"\n                        id=\"cardExpiry\"\n                        pattern=\"(0[1-9]{1}|1[0-2]{1})-([0-9]{4}|[0-9]{2})\"\n                        required\n                        placeholder=\"MM - YY\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-5 pull-right\">\n                    <div className=\"form-group mb-3\">\n                      <label className=\"form-label\" for=\"cardCVC\">\n                        CV Code\n                      </label>\n                      <input\n                        className=\"form-control\"\n                        type=\"number\"\n                        id=\"cardCVC\"\n                        required\n                        placeholder=\"CVC\"\n                        min=\"111\"\n                        max=\"999\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <button\n              className=\"btn btn-success btn-lg d-block w-100\"\n              type=\"submit\"\n            >\n              Pay Now\n            </button>\n            <ToastContainer />\n          </Modal.Footer>\n        </form>\n      </Modal>\n    </div>\n  );\n}\n\nexport default AppointCentreForm;\n"]},"metadata":{},"sourceType":"module"}