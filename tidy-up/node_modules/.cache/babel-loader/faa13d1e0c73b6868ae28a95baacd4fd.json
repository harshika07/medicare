{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/medicare/medicare/src/Components/AdminEditPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport \"../css/Booking.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { db, UpdateTest, CreateTest } from \"../Firebase/Firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AdminEditPage(props) {\n  _s();\n\n  const {\n    availableTest\n  } = props;\n  console.log(availableTest.id);\n  const TestName = useRef();\n  const Price = useRef();\n  const Location = useRef();\n  const Description = useRef();\n  const history = useHistory();\n\n  function handleUpload(e) {\n    e.preventDefault();\n\n    if (availableTest) {\n      UpdateTest(availableTest.id, {\n        name: TestName.current.value,\n        price: Price.current.value,\n        location: Location.current.value,\n        description: Description.current.value\n      });\n      history.push(\"/AvailableTests\");\n    } else {\n      CreateTest(Location.current.value + TestName.current.value, {\n        name: TestName.current.value,\n        price: Price.current.value,\n        location: Location.current.value,\n        description: Description.current.value\n      });\n      history.push(\"/AvailableTests\");\n    }\n  }\n\n  const [testInfo, setTestInfo] = useState({});\n  useEffect(() => {\n    if (availableTest) {\n      const fetchData = async () => {\n        try {\n          const response = await db.collection(\"available_tests\").doc(availableTest.id).get();\n          console.log(\"response\", response);\n          let data = {\n            title: \"not found\"\n          };\n\n          if (response.exists) {\n            console.log(\"found it\");\n            data = response.data();\n            console.log(data);\n          }\n\n          setTestInfo(data);\n        } catch (err) {\n          console.error(err);\n        }\n      };\n\n      fetchData();\n    } else {\n      console.log(\"adding new doc\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"contact-clean\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"breadcrumb\",\n          children: /*#__PURE__*/_jsxDEV(\"ol\", {\n            class: \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"breadcrumb-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/AvailableTests\",\n                children: \"Available tests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              class: \"breadcrumb-item active\",\n              \"aria-current\": \"page\",\n              children: \"Admin Edit Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"bg-light border rounded\",\n          style: {\n            background: \"rgb(248,248,249)\"\n          },\n          onSubmit: handleUpload,\n          children: [availableTest && /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center\",\n            children: \"Edit tests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 31\n          }, this), !availableTest && /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center\",\n            children: \"Add New Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"test name\",\n              placeholder: \"Test Name\",\n              ref: TestName,\n              defaultValue: testInfo.name,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"number\",\n              name: \"Price\",\n              placeholder: \"Price\",\n              ref: Price,\n              defaultValue: testInfo.price,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), testInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"input-group-text\",\n              for: \"inputGroupSelect01\",\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-select\",\n              ref: Location,\n              defaultValue: availableTest.location,\n              id: \"inputGroupSelect01\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"home\",\n                children: \"Home\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"centre\",\n                children: \"Centre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              name: \"Description\",\n              placeholder: \"Description\",\n              rows: \"14\",\n              ref: Description,\n              defaultValue: testInfo.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AdminEditPage, \"h5PtvHAex/sAUVEk4863PTFG5sQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminEditPage;\nexport default AdminEditPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminEditPage\");","map":{"version":3,"sources":["/Users/mac/Desktop/medicare/medicare/src/Components/AdminEditPage.js"],"names":["React","useRef","useState","useEffect","Link","useHistory","db","UpdateTest","CreateTest","AdminEditPage","props","availableTest","console","log","id","TestName","Price","Location","Description","history","handleUpload","e","preventDefault","name","current","value","price","location","description","push","testInfo","setTestInfo","fetchData","response","collection","doc","get","data","title","exists","err","error","background"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport \"../css/Booking.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { db, UpdateTest, CreateTest } from \"../Firebase/Firebase\";\n\nfunction AdminEditPage(props) {\n  const { availableTest } = props;\n  console.log(availableTest.id);\n  const TestName = useRef();\n  const Price = useRef();\n  const Location = useRef();\n  const Description = useRef();\n  const history = useHistory();\n\n  function handleUpload(e) {\n    e.preventDefault();\n    if (availableTest) {\n      UpdateTest(availableTest.id, {\n        name: TestName.current.value,\n        price: Price.current.value,\n        location: Location.current.value,\n        description: Description.current.value,\n      });\n      history.push(\"/AvailableTests\");\n    } else {\n      CreateTest(Location.current.value + TestName.current.value, {\n        name: TestName.current.value,\n        price: Price.current.value,\n        location: Location.current.value,\n        description: Description.current.value,\n      });\n      history.push(\"/AvailableTests\");\n    }\n  }\n\n  const [testInfo, setTestInfo] = useState({});\n  useEffect(() => {\n    if (availableTest) {\n      const fetchData = async () => {\n        try {\n          const response = await db\n            .collection(\"available_tests\")\n            .doc(availableTest.id)\n            .get();\n\n          console.log(\"response\", response);\n\n          let data = { title: \"not found\" };\n\n          if (response.exists) {\n            console.log(\"found it\");\n            data = response.data();\n            console.log(data);\n          }\n\n          setTestInfo(data);\n        } catch (err) {\n          console.error(err);\n        }\n      };\n      fetchData();\n    } else {\n      console.log(\"adding new doc\");\n    }\n  }, []);\n  return (\n    <div>\n      <div>\n        <section className=\"contact-clean\">\n          <nav aria-label=\"breadcrumb\">\n            <ol class=\"breadcrumb\">\n              <li class=\"breadcrumb-item\">\n                <Link to=\"/AvailableTests\">Available tests</Link>\n              </li>\n\n              <li class=\"breadcrumb-item active\" aria-current=\"page\">\n                Admin Edit Page\n              </li>\n            </ol>\n          </nav>\n          <form\n            className=\"bg-light border rounded\"\n            style={{ background: \"rgb(248,248,249)\" }}\n            onSubmit={handleUpload}\n          >\n            {availableTest && <h2 className=\"text-center\">Edit tests</h2>}\n            {!availableTest && <h2 className=\"text-center\">Add New Test</h2>}\n\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                name=\"test name\"\n                placeholder=\"Test Name\"\n                ref={TestName}\n                defaultValue={testInfo.name}\n                required\n              />\n            </div>\n            <div className=\"form-group mb-3\">\n              <input\n                className=\"form-control\"\n                type=\"number\"\n                name=\"Price\"\n                placeholder=\"Price\"\n                ref={Price}\n                defaultValue={testInfo.price}\n                required\n              />\n            </div>\n            {testInfo && (\n              <div class=\"input-group mb-3\">\n                <label class=\"input-group-text\" for=\"inputGroupSelect01\">\n                  Location\n                </label>\n                <select\n                  class=\"form-select\"\n                  ref={Location}\n                  defaultValue={availableTest.location}\n                  id=\"inputGroupSelect01\"\n                  required\n                >\n                  <option value=\"home\">Home</option>\n                  <option value=\"centre\">Centre</option>\n                </select>\n              </div>\n            )}\n            <div className=\"form-group mb-3\">\n              <textarea\n                className=\"form-control\"\n                name=\"Description\"\n                placeholder=\"Description\"\n                rows=\"14\"\n                ref={Description}\n                defaultValue={testInfo.description}\n              ></textarea>\n            </div>\n            <div className=\"form-group mb-3\">\n              <button className=\"btn btn-primary\" type=\"submit\">\n                Save\n              </button>\n            </div>\n          </form>\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default AdminEditPage;\n"]},"metadata":{},"sourceType":"module"}