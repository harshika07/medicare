{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/tidy-up/tidy-up/src/Components/AppointmentHome.js\",\n    _s = $RefreshSig$();\n\nimport { useState, React, useEffect } from \"react\";\nimport \"../css/Appointment.css\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../Firebase/AuthContext\";\nimport { db } from \"../Firebase/Firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AppointmentHome(props) {\n  _s();\n\n  const {\n    onAdd,\n    onRemove,\n    cartItems,\n    removeAll\n  } = props;\n  const {\n    currentUser\n  } = useAuth();\n  const [tests, setTests] = useState([]);\n  const getTestsFromFirebase = [];\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    console.log(\"Reached inside useEffect\");\n\n    const fetchData = async () => {\n      try {\n        const response = db.collection(\"available_tests\").onSnapshot(querySnapshot => {\n          console.log(\"Collection found\");\n          querySnapshot.forEach(doc => {\n            if (doc.data().location === \"home\") {\n              console.log(\"home found\");\n              getTestsFromFirebase.push({ ...doc.data(),\n                //spread operator\n                id: doc.id // `id` given to us by Firebase\n\n              });\n            }\n\n            console.log(\"reached here\");\n          });\n          setTests(getTestsFromFirebase);\n          console.log(getTestsFromFirebase);\n          setLoading(false);\n        });\n        console.log(\"response\", response);\n\n        if (response.exists) {\n          console.log(\"found it\");\n        }\n\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"highlight-clean\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-center\",\n              children: \"Book a Home Apointment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center\",\n              children: [\"Select a location to check available tests.\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-primary\",\n              type: \"button\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"btn btn-light\",\n              type: \"button\",\n              to: \"/AppointmentCentre\",\n              onClick: removeAll,\n              children: \"Centre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"features-boxed\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"intro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center\",\n            children: \"Tests available for Home Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), currentUser && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/AppointHomeForm\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              children: [\"Added \", cartItems.length, \" to cart\", console.log(\"cartLength \" + cartItems.length)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), !currentUser && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Login\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              children: [\"Added \", cartItems.length, \" to cart. Login To Continue!\", console.log(\"cartLength \" + cartItems.length)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center features\",\n            children: tests.map(test => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-6 col-md-5 col-lg-4 item\",\n              product: test,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"box\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"name\",\n                  children: test.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"description\",\n                  children: test.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"\\u20B9\", test.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"btn-group btn-group-toggle\",\n                  \"data-toggle\": \"buttons\",\n                  children: [!cartItems.find(x => x.id === test.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary add\",\n                    type: \"button\",\n                    onClick: () => {\n                      onAdd(test);\n                      console.log(cartItems.length);\n                    },\n                    children: \"Add\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 25\n                  }, this), cartItems.find(x => x.id === test.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger add\",\n                    type: \"button\",\n                    onClick: () => onRemove(test),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)\n            }, test.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AppointmentHome, \"NZNlsF++BKqfnpOId38DO8bmSDE=\", false, function () {\n  return [useAuth];\n});\n\n_c = AppointmentHome;\nexport default AppointmentHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppointmentHome\");","map":{"version":3,"sources":["/Users/mac/Desktop/tidy-up/tidy-up/src/Components/AppointmentHome.js"],"names":["useState","React","useEffect","Link","useAuth","db","AppointmentHome","props","onAdd","onRemove","cartItems","removeAll","currentUser","tests","setTests","getTestsFromFirebase","loading","setLoading","console","log","fetchData","response","collection","onSnapshot","querySnapshot","forEach","doc","data","location","push","id","exists","err","error","length","map","test","name","description","price","find","x"],"mappings":"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","sourcesContent":["import { useState, React, useEffect } from \"react\";\nimport \"../css/Appointment.css\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../Firebase/AuthContext\";\nimport { db } from \"../Firebase/Firebase\";\n\nfunction AppointmentHome(props) {\n  const { onAdd, onRemove, cartItems, removeAll } = props;\n  const { currentUser } = useAuth();\n\n  const [tests, setTests] = useState([]);\n\n  const getTestsFromFirebase = [];\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    console.log(\"Reached inside useEffect\");\n    const fetchData = async () => {\n      try {\n        const response = db\n          .collection(\"available_tests\")\n          .onSnapshot((querySnapshot) => {\n            console.log(\"Collection found\");\n            querySnapshot.forEach((doc) => {\n              if (doc.data().location === \"home\") {\n                console.log(\"home found\");\n                getTestsFromFirebase.push({\n                  ...doc.data(), //spread operator\n                  id: doc.id, // `id` given to us by Firebase\n                });\n              }\n              console.log(\"reached here\");\n            });\n            setTests(getTestsFromFirebase);\n            console.log(getTestsFromFirebase);\n            setLoading(false);\n          });\n\n        console.log(\"response\", response);\n\n        if (response.exists) {\n          console.log(\"found it\");\n        }\n\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <div>\n        <section className=\"highlight-clean\">\n          <div className=\"container\">\n            <div className=\"intro\">\n              <h2 className=\"text-center\">Book a Home Apointment</h2>\n              <p className=\"text-center\">\n                Select a location to check available tests.{\" \"}\n              </p>\n            </div>\n            <div className=\"buttons\">\n              <Link className=\"btn btn-primary\" type=\"button\">\n                Home\n              </Link>\n              <Link\n                className=\"btn btn-light\"\n                type=\"button\"\n                to=\"/AppointmentCentre\"\n                onClick={removeAll}\n              >\n                Centre\n              </Link>\n            </div>\n          </div>\n        </section>\n        <section className=\"features-boxed\">\n          <div className=\"container\">\n            <div className=\"intro\"></div>\n            <h2 className=\"text-center\">Tests available for Home Visit</h2>\n            {currentUser && (\n              <Link to=\"/AppointHomeForm\">\n                <button className=\"btn btn-primary\">\n                  Added {cartItems.length} to cart\n                  {console.log(\"cartLength \" + cartItems.length)}\n                </button>\n              </Link>\n            )}\n            {!currentUser && (\n              <Link to=\"/Login\">\n                <button className=\"btn btn-danger\">\n                  Added {cartItems.length} to cart. Login To Continue!\n                  {console.log(\"cartLength \" + cartItems.length)}\n                </button>\n              </Link>\n            )}\n\n            <div className=\"row justify-content-center features\">\n              {tests.map((test) => (\n                <div\n                  className=\"col-sm-6 col-md-5 col-lg-4 item\"\n                  key={test.id}\n                  product={test}\n                >\n                  <div className=\"box\">\n                    <h3 className=\"name\">{test.name}</h3>\n                    <p className=\"description\">{test.description}</p>\n\n                    <p>&#x20b9;{test.price}</p>\n\n                    <div\n                      class=\"btn-group btn-group-toggle\"\n                      data-toggle=\"buttons\"\n                    >\n                      {!cartItems.find((x) => x.id === test.id) && (\n                        <button\n                          className=\"btn btn-primary add\"\n                          type=\"button\"\n                          onClick={() => {\n                            onAdd(test);\n                            console.log(cartItems.length);\n                          }}\n                        >\n                          Add\n                        </button>\n                      )}\n                      {cartItems.find((x) => x.id === test.id) && (\n                        <button\n                          className=\"btn btn-danger add\"\n                          type=\"button\"\n                          onClick={() => onRemove(test)}\n                        >\n                          Remove\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n}\n\nexport default AppointmentHome;\n"]},"metadata":{},"sourceType":"module"}